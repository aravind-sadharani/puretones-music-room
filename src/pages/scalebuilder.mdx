import ScaleBuilder from 'applets/scalebuilder'
import ShowHideContent from 'components/showhidecontent'

## Scale Builder for Indian musical scales

Scale Builder is a tool to build microtonally accurate scales for Ragas in Indian Classical music. For an introduction to Scale Builder and a quick user guide, click `Show`. You can use the common parameters below to set the `Sa` to any pitch you prefer.

<ShowHideContent title='Guide to Scale Builder'>

### Introduction

Indian Ragas and their underlying scales are based on the principles of consonance and symmetry. This means that the interval between any two notes in a Raga can be described:
* Using the common intervals of *Pancham* (fifth), *Madhyam* (fourth) and *Gandhar* (major third), or
* By means of symmetrical intervals in a different part of the octave in that Raga.

By describing musical intervals in this manner, you can use Scale Builder to build microtonally accurate scales for Indian Ragas. Scale Builder uses *Linear Algebra* to solve for a scale that meets all the *constraints* imposed by the musical intervals you specify.

### Syntax

Scale Builder requires each relevant musical interval to be specified as a constraint in a separate line, based on the following syntax.

* Individual notes are denoted as `Sa re Re ga Ga ma Ma Pa dha Dha ni Ni` where notes beginning with a lower case letter are *komal* or flat notes, and notes beginning with an upper case letter are *tivra* or sharp notes.
* There are three *Saptaks* (octaves):  *Mandra* (low), *Madhya* (middle) and *Tara* (high). A `"` symbol denotes *Tara Saptak*, a `'` symbol denotes *Mandra Saptak* and no octave specification means *Madhya Saptak*.
* `(Sa,Pa)` stands for the interval from Sa to Pa.
* `(Sa,Pa)` is the same as `(Pa,Sa)`, but different from `(Pa,Sa")`.
* `I(P)`, `I(m)` and `I(G)` are respectively the *Pancham*, *Madhyam* and *Gandhar* intervals.
* So `(Sa,Pa) = I(P)` means that `Sa` and `Pa` have a *Pancham* relationship (which need not always be the case).
* `(Pa,Dha) = (ma,Pa)` means that the `Pa-Dha` interval and `ma-Pa` interval are the same.
* `(Re)` is a shortcut for `(Sa,Re)`.
* `S(note)` means that the `note` should use the *standard* value from the Venkatamakhin-Ramamatya tuning system. For example, `(ga) = S(ga)` means that `ga` should use the standard value.
* `D(note)` means that the `note` should be deleted from the scale (although it may be used to derive another note in the scale). For example, `D(Pa)` means that `Pa` is not be used in the scale.
* `T(note)` means that the generated scale should be transposed with the `note` taken as the tonic note. For example, `T(ma)` means that the generated scale should be transposed to `ma`.

### Examples

You can use the following examples to try out Scale Builder and also to familiarize yourself with the constraint syntax.

#### Sama Gana Scale

The [Sama Gana scale](/learn/tuningsystems-1/) starts with the idea that `ma` and `Pa` have a perfect *Madhyam* and *Pancham* relationship with `Sa`. Then using the `(ma,Pa)` interval, `Re` and `ni` are derived by going up and down from `Sa` by an amount equal to `(ma,Pa)`. Similarly, `ga` is derived by going down from `ma` and `Dha` by going up from `Pa`, by the same amount `(ma,Pa)`. This leads to the following constraints.

```
(Sa,Pa) = I(P)
(Sa,ma) = I(m)
(Sa,Re) = (ma,Pa)
(ga,ma) = (ma,Pa)
(Pa,Dha) = (ma,Pa)
(ni,Sa") = (ma,Pa)
```

#### Shadaj Gram Scale

The [Shadaj Gram scale](/learn/tuningsystems-2/) starts with the Sama Gana scale, but shifts `Re` and `Dha` down in pitch. `Dha` is shifted down in pitch so that `(ma,Dha)` is a perfect *Gandhar*. Since, `Re` and `Dha` are maintained to have a perfect *Pancham* relationship, we need to specify that `(Re,Dha) = I(P)`. This leads to the following constraints.

```
(Sa,Pa) = I(P)
(Sa,ma) = I(m)
(ga,ma) = (ma,Pa)
(ni,Sa") = (ma,Pa)
(ma,Dha) = I(G)
(Re,Dha) = I(P)
```

### Results

You can build the scale by clicking on `Build` after specifying all the musical intervals of significance in the Raga. In case, Scale Builder is unable to build the scale, it would provide you with a list of notes which cannot be determined. You can add or change constraints till you get a solution.

On successfully building a scale, Scale Builder would provide a keyboard to listen to the scale so that you check if it matches with your expectations. You can also read further information generated by Scale Builder including its tuning with respect to the Venkatamakhin-Ramamatya scale and the symmetric intervals in the scale. These symmetric intervals should be inline with your expectations about the *Lakshanas* of the Raga.

</ShowHideContent>

<p></p>

<CommonPitch />

<ScaleBuilder />